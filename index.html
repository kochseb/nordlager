<!DOCTYPE html>
<html lang="de" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nordlager-Halle.de | Ihr Self-Storage in Halle Trotha</title>
    <link rel="stylesheet" href="assets/css/tailwind.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="favicon-32x32.png" sizes="32x32" type="image/png">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
</head>
<body class="antialiased">

    <header class="bg-white/70 backdrop-blur-md sticky top-0 z-50 shadow-lg">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="index.html" class="flex items-center gap-3">
                <img src="favicon-32x32.png" alt="Nordlager-Halle Logo" class="h-8 w-8">
                <span class="text-2xl font-bold accent-text">
                    Nordlager-Halle<span class="text-gray-400">.de</span>
                </span>
            </a>
            <nav class="hidden md:flex space-x-8">
                <a href="#vorteile" class="text-gray-600 hover:accent-text">Vorteile</a>
                <a href="#angebot" class="text-gray-600 hover:accent-text">Angebot</a>
                <a href="#rechner" class="text-gray-600 hover:accent-text">Bedarfsrechner</a>
            </nav>
            <a href="#angebot" class="bg-green-500 text-white font-bold py-2 px-5 rounded-lg shadow-md hover:bg-green-600 transition-colors">
                Jetzt Buchen
            </a>
        </div>
    </header>

    <main>
        <section id="problem" class="hero-bg py-20 md:py-32">
            <div class="container mx-auto px-6 text-center">
                <h1 class="text-4xl md:text-7xl font-extrabold text-gray-800 mb-4 leading-tight">PLATZMANGEL?</h1>
                <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">Vom √ºberquellenden Keller bis zum Umzugsstress ‚Äì wir kennen das Chaos. Es ist Zeit f√ºr eine klare L√∂sung.</p>
                <div class="mt-12">
                    <a href="#loesung" class="inline-block accent-bg text-white font-bold text-lg py-4 px-10 rounded-lg shadow-xl cta-button">
                        Entdecken Sie Ihre Freiheit
                    </a>
                </div>
            </div>
        </section>

        <section id="loesung" class="py-20 md:py-24">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold mb-3">Ihre Freiheit. Ihr Lager.</h2>
                    <p class="text-lg text-gray-600 max-w-2xl mx-auto">Schaffen Sie Platz in Ihrem Leben mit unseren modernen Self-Storage-L√∂sungen in Halle Trotha. Einfach, zug√§nglich und genau auf Ihre Bed√ºrfnisse zugeschnitten.</p>
                </div>
                <div id="vorteile" class="grid md:grid-cols-3 gap-8 text-center">
                    <div class="benefit-card bg-gray-50 p-8 rounded-xl shadow-md border border-gray-200">
                        <div class="text-5xl mb-4 accent-text">üîê</div>
                        <h3 class="text-2xl font-bold mb-2">Sicher & √úberwacht</h3>
                        <p class="text-gray-600">Ihr Eigentum ist bei uns sicher. Unsere Anlage ist 24/7 video√ºberwacht und nur f√ºr Sie zug√§nglich.</p>
                    </div>
                    <div class="benefit-card bg-gray-50 p-8 rounded-xl shadow-md border border-gray-200">
                        <div class="text-5xl mb-4 accent-text">‚òÄÔ∏è</div>
                        <h3 class="text-2xl font-bold mb-2">Trocken & Sauber</h3>
                        <p class="text-gray-600">Alle Lagerr√§ume sind trocken, sauber und witterungsgesch√ºtzt. Ideal f√ºr M√∂bel, Akten und empfindliche Gegenst√§nde.</p>
                    </div>
                    <div class="benefit-card bg-gray-50 p-8 rounded-xl shadow-md border border-gray-200">
                        <div class="text-5xl mb-4 accent-text">üóìÔ∏è</div>
                        <h3 class="text-2xl font-bold mb-2">Flexibel & Fair</h3>
                        <p class="text-gray-600">Mieten Sie genau den Platz, den Sie brauchen, mit kurzen K√ºndigungsfristen und transparenten Preisen.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="angebot" class="py-20 md:py-24">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-4xl md:text-6xl font-extrabold mb-4 text-gray-800">Jetzt buchen &</h2>
                <p class="text-5xl md:text-7xl font-extrabold bg-yellow-400 text-gray-900 inline-block px-6 py-2 rounded-lg shadow-2xl mb-10 transform -rotate-2">1. Monat GRATIS sichern!</p>
                <p class="text-xl max-w-2xl mx-auto mb-12 text-gray-700">Dieses Angebot ist zeitlich begrenzt. Sichern Sie sich jetzt Ihre Lagerbox und genie√üen Sie den ersten Monat mietfrei. Keine versteckten Kosten, keine Kompromisse.</p>
                <a href="#rechner" class="bg-green-600 text-white font-bold text-xl py-5 px-12 rounded-lg shadow-xl hover:bg-green-700 transition-colors inline-block">
                    Unverbindlich anfragen
                </a>
            </div>
        </section>

        <section id="rechner" class="py-20 md:py-24 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold mb-3">Wie viel Platz brauchen Sie?</h2>
                    <p class="text-lg text-gray-600 max-w-2xl mx-auto">Unser Bedarfsrechner hilft Ihnen, die passende Lagerbox-Gr√∂√üe zu finden. W√§hlen Sie einfach aus, was Sie einlagern m√∂chten.</p>
                </div>
                <div class="max-w-xl mx-auto bg-gray-50 p-8 rounded-xl shadow-lg border border-gray-200">
                    <div class="mb-6">
                        <label for="storage-need" class="block text-lg font-semibold mb-2 text-gray-700">Was m√∂chten Sie einlagern?</label>
                        <select id="storage-need" class="w-full p-4 border border-gray-300 rounded-lg text-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500">
                            <option value="default" selected disabled>-- Bitte w√§hlen --</option>
                            <option value="kartons">Umzugskartons (10-20 St√ºck)</option>
                            <option value="wohnung1">M√∂bel aus 1-Zimmer-Wohnung</option>
                            <option value="wohnung2">M√∂bel aus 2-Zimmer-Wohnung</option>
                            <option value="akten">Akten & B√ºromaterial</option>
                            <option value="hobby">Hobby- / Saisonausr√ºstung</option>
                            <option value="motorrad">Motorrad / Fahrr√§der</option>
                        </select>
                    </div>
                    <button id="calculate-btn" class="w-full cta-button accent-bg text-white font-bold text-lg py-4 px-10 rounded-lg shadow-lg hover:bg-blue-800">
                        Gr√∂√üe empfehlen
                    </button>
                    <div id="recommendation" class="mt-8 text-center bg-orange-100 p-6 rounded-lg border-2 border-dashed border-orange-300 hidden">
                        <h4 class="text-xl font-bold text-orange-800 mb-2">Unsere Empfehlung:</h4>
                        <p id="recommendation-text" class="text-lg text-orange-700"></p>
                    </div>
                    
                    <button id="generate-packlist-btn" class="w-full cta-button bg-green-600 text-white font-bold text-lg py-4 px-10 rounded-lg shadow-lg hover:bg-green-700 mt-6 hidden">
                        ‚ú® Detaillierten Packplan erstellen
                    </button>

                    <div id="packlist-consent" class="hidden mt-4 p-4 bg-gray-100 rounded-lg border border-gray-200 text-sm">
                        <label for="consent-checkbox" class="flex items-start">
                            <input type="checkbox" id="consent-checkbox" class="mt-1 mr-3 h-5 w-5 rounded border-gray-300 text-orange-500 focus:ring-orange-500">
                            <span class="text-gray-700">Ich stimme zu, dass meine Anfrage zur Erstellung des Packplans an Google (USA) gesendet wird. Dabei wird meine IP-Adresse √ºbertragen. Diese Einwilligung kann ich jederzeit widerrufen. <a href="datenschutz.html" target="_blank" class="underline text-orange-600">Mehr Infos.</a></span>
                        </label>
                    </div>
                    
                    <div id="packlist-result" class="mt-8 text-left bg-blue-50 p-6 rounded-xl border border-blue-200 hidden">
                        <h4 class="text-xl font-bold text-blue-800 mb-4">Ihr individueller Packplan:</h4>
                        <div id="packlist-content"></div>
                    </div>

                </div>
            </div>
        </section>
    </main>

    <footer class="bg-gray-800 text-white py-10">
        <div class="container mx-auto px-6 text-center">
            <h3 class="text-3xl font-bold mb-4">Nordlager-Halle.de</h3>
            <p class="mb-4">Ihr Self-Storage in Halle Trotha</p>
            <p class="text-gray-400">Trothaer Str. 14, 06118 Halle (Saale)</p>
            <p class="text-gray-400 mb-8">
                <a href="tel:+491772002092" class="hover:text-orange-400">Tel: +49 (0) 177 200 20 92</a> | 
                <a href="mailto:kadler@anwalt.io" class="hover:text-orange-400">E-Mail: kadler@anwalt.io</a>
            </p>
            <div class="mb-6 space-x-6">
                <a href="impressum.html" class="text-gray-400 hover:text-white">Impressum</a>
                <a href="datenschutz.html" class="text-gray-400 hover:text-white">Datenschutz</a>
            </div>
            <p class="text-gray-500 text-sm">&copy; 2025 Nordlager-Halle.de</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const calculateBtn = document.getElementById('calculate-btn');
            const storageNeedSelect = document.getElementById('storage-need');
            const recommendationDiv = document.getElementById('recommendation');
            const recommendationText = document.getElementById('recommendation-text');
            const generatePacklistBtn = document.getElementById('generate-packlist-btn');
            const packlistResultDiv = document.getElementById('packlist-result');
            const packlistContentDiv = document.getElementById('packlist-content');
            const packlistConsentDiv = document.getElementById('packlist-consent');
            const consentCheckbox = document.getElementById('consent-checkbox');
            
            const apiKey = ""; 
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=${apiKey}`;
            const recommendations = { kartons: "Lagerbox S (2-3 m¬≤). Perfekt f√ºr Kartons und kleinere Gegenst√§nde.", wohnung1: "Lagerbox M (4-6 m¬≤). Ideal f√ºr die Einrichtung einer kleinen Wohnung.", wohnung2: "Lagerbox L (7-10 m¬≤). Bietet genug Platz f√ºr den Hausstand einer 2-Zimmer-Wohnung.", akten: "Lagerbox S oder M (je nach Menge). Optimal f√ºr die sichere Archivierung Ihrer Dokumente.", hobby: "Lagerbox S (2-3 m¬≤). Genug Raum f√ºr Ihre Ski, Campingausr√ºstung oder saisonale Deko.", motorrad: "Lagerbox M (4-5 m¬≤). Sicherer Stellplatz f√ºr Ihr Motorrad und Zubeh√∂r." };
            const detailedDescriptions = { kartons: "20 Umzugskartons, Kleidung, B√ºcher und kleine Haushaltsgegenst√§nde, die in einem S-Lagerraum (2-3 m¬≤) verstaut werden sollen.", wohnung1: "M√∂bel und Gegenst√§nde aus einer typischen 1-Zimmer-Wohnung, darunter ein Bett, ein Schreibtisch, ein kleines Sofa und 15 Kisten. Lagerraumgr√∂√üe M (4-6 m¬≤).", wohnung2: "M√∂bel und Gegenst√§nde aus einer typischen 2-Zimmer-Wohnung, darunter ein Doppelbett, ein Esstisch mit St√ºhlen, ein gr√∂√üeres Sofa und ca. 30 Kisten. Lagerraumgr√∂√üe L (7-10 m¬≤).", akten: "Archivmaterial und Aktenordner (ca. 50 St√ºck) sowie ein kleiner Aktenschrank. Lagerraumgr√∂√üe S oder M.", hobby: "Umfangreiche Hobbymaterialien (z.B. Angelausr√ºstung, Modellbau, Wintersportausr√ºstung) die trocken gelagert werden m√ºssen.", motorrad: "Ein Motorrad, Helm und Motorradkleidung, die sicher und witterungsgesch√ºtzt in einem M-Lagerraum untergebracht werden sollen." };

            async function fetchWithRetry(url, options, maxRetries = 3) { for (let i = 0; i < maxRetries; i++) { try { const response = await fetch(url, options); if (!response.ok) { throw new Error(`HTTP error! status: ${response.status}`); } return await response.json(); } catch (error) { console.error("Fetch attempt failed:", error); if (i === maxRetries - 1) throw error; const delay = Math.pow(2, i) * 1000 + Math.random() * 1000; await new Promise(resolve => setTimeout(resolve, delay)); } } }
            
            async function generatePacklist(storageNeedKey) {
                packlistContentDiv.innerHTML = '<p class="text-center text-blue-700">Wird generiert... ‚ú®</p>';
                packlistResultDiv.classList.remove('hidden');
                const description = detailedDescriptions[storageNeedKey];
                const systemPrompt = "Sie sind ein professioneller Umzugs- und Lagerplaner. Erstellen Sie eine detaillierte und strukturierte Packliste basierend auf der folgenden Beschreibung. Geben Sie die Antwort ausschlie√ülich im angeforderten JSON-Format zur√ºck.";
                const userQuery = `Erstelle eine Packliste f√ºr das Einlagern folgender Gegenst√§nde: ${description}`;
                const payload = { contents: [{ parts: [{ text: userQuery }] }], systemInstruction: { parts: [{ text: systemPrompt }] }, generationConfig: { responseMimeType: "application/json", responseSchema: { type: "OBJECT", properties: { title: { type: "STRING", description: "Ein kurzer, ansprechender Titel f√ºr die Packliste." }, categories: { type: "ARRAY", description: "Eine Liste von Packkategorien (z.B. K√ºche, Wohnzimmer, Archiv).", items: { type: "OBJECT", properties: { name: { type: "STRING", description: "Name der Kategorie." }, items: { type: "ARRAY", description: "3 bis 5 spezifische Gegenst√§nde/Aufgaben f√ºr diese Kategorie.", items: { type: "STRING" } } }, required: ["name", "items"] } } }, required: ["title", "categories"] } } };
                try { const response = await fetchWithRetry(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) }); const jsonText = response.candidates?.[0]?.content?.parts?.[0]?.text; if (!jsonText) { throw new Error("API response text was empty."); } const parsedJson = JSON.parse(jsonText); renderPacklist(parsedJson); } catch (error) { console.error("Fehler beim Abrufen des Packplans:", error); packlistContentDiv.innerHTML = '<p class="text-center text-red-600">Es tut uns leid, beim Generieren des Packplans ist ein Fehler aufgetreten. Bitte versuchen Sie es sp√§ter erneut.</p>'; }
            }

            function renderPacklist(data) { let html = `<h5 class="text-2xl font-semibold mb-4">${data.title}</h5>`; data.categories.forEach(cat => { html += `<div class="mb-5 border-b border-blue-100 pb-3"><h6 class="text-xl font-bold text-blue-700 mb-2">${cat.name}</h6><ul class="list-disc list-inside pl-2 space-y-1 text-gray-700">`; cat.items.forEach(item => { html += `<li>${item}</li>`; }); html += `</ul></div>`; }); packlistContentDiv.innerHTML = html; }
            
            calculateBtn.addEventListener('click', function() {
                const selectedValue = storageNeedSelect.value;
                if (selectedValue && selectedValue !== 'default') {
                    recommendationText.textContent = recommendations[selectedValue];
                    recommendationDiv.classList.remove('hidden');
                    generatePacklistBtn.classList.remove('hidden');
                    packlistResultDiv.classList.add('hidden');
                    packlistConsentDiv.classList.add('hidden'); 
                    consentCheckbox.checked = false;
                } else {
                    recommendationText.textContent = "Bitte w√§hlen Sie eine Option aus, um eine Empfehlung zu erhalten.";
                    recommendationDiv.classList.remove('hidden');
                    generatePacklistBtn.classList.add('hidden');
                    packlistResultDiv.classList.add('hidden');
                    packlistConsentDiv.classList.add('hidden');
                }
            });

            generatePacklistBtn.addEventListener('click', function() {
                packlistConsentDiv.classList.remove('hidden');
                const selectedValue = storageNeedSelect.value;
                if (selectedValue && selectedValue !== 'default' && consentCheckbox.checked) {
                    generatePacklist(selectedValue);
                } else if (consentCheckbox.checked === false) {
                    packlistResultDiv.classList.add('hidden'); 
                    packlistContentDiv.innerHTML = '<p class="text-center text-red-600">Bitte stimmen Sie der Datenverarbeitung zu, um den Plan zu erstellen.</p>';
                    packlistResultDiv.classList.remove('hidden');
                }
            });

            storageNeedSelect.addEventListener('change', function() {
                recommendationDiv.classList.add('hidden');
                generatePacklistBtn.classList.add('hidden');
                packlistResultDiv.classList.add('hidden');
                packlistConsentDiv.classList.add('hidden');
                consentCheckbox.checked = false;
            });

            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });
        });
    </script>
</body>
</html>

